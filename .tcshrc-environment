# -*- sh -*-

umask 002

# Language environment
setenv LC_TIME C

if ( ${LANG} == "ja_JP.UTF-8" ) then
    unset nokanji
    set dspmbyte=utf8
    setenv LESSCHARSET utf-8
else if ( ${LANG} == "ja_JP.eucJP" ) then
    unset nokanji
    set dspmbyte=euc
endif

# Set prompt
if ($?prompt) then
    if (${TERM} == "dumb") then
        set prompt="%B[%n@%m]%b%{%}%@%{%}[%c2]\!\n$ "
    else if (${TERM} == "emacs") then
        set prompt="%B[%n@%m]%b%{%}%@%{%}[%c2]\!\n$ "
    else
        set prompt="%{\e]2;%n@%m:%c2\a%}%{\33[31m%}%P%{\33[m%} %B[%n@%m]%b %U%c2%u\n\! %# "
#        alias precmd 'printf "\033]2;${PWD}@${HOST}\007"'
    endif
endif

# PATH
if (-d "/usr/local/bin") then
    setenv PATH "/usr/local/bin:$PATH"
endif
if (-d "$HOME/bin") then
    setenv PATH "$HOME/bin:$PATH"
endif

# environment variables
setenv AUTHOR 'Akinori Tomita'

# keybind
bindkey -e
bindkey "^R" i-search-back
bindkey "^S" i-search-fwd

limit coredumpsize 0

set time=(8 "\
Time spent in user mode   (CPU seconds) : %Us\
Time spent in kernel mode (CPU seconds) : %Ss\
Total time                              : %Es\
CPU utilisation (percentage)            : %P\
Times the process was swapped           : %W\
Times of major page faults              : %F\
Times of minor page faults              : %R")

set autocorrect
set autoexpand
set autolist=ambiguous
set color
set colorcat
set complete=enhance
set correct=cmd
set fignore=(\~ .bak .o .class CVS RCS .svn .DS_Store)
set history=5000
set implicitcd=verbose
set listjobs=long
set nobeep
set printexitvalue
set pushdtohome
set rmstar
set savedirs
set savehist=(500 merge)
set symlinks=expand
unset autologout
